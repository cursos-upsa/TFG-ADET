/* file: resources/css/app.css */

/* Importar Fuente (ya incluida en app.blade.php, pero bueno tenerla aquí como referencia) */
@import url('https://fonts.bunny.net/css?family=figtree:400,500,600&display=swap');

/* Variables CSS para Tema */
:root {
    --color-primario: #4f46e5; /* Indigo-600 */
    --color-primario-hover: #4338ca; /* Indigo-700 */
    --color-secundario: #6b7280; /* Gray-500 */
    --color-peligro: #dc2626; /* Red-600 */
    --color-peligro-hover: #b91c1c; /* Red-700 */
    --color-texto: #111827; /* Gray-900 */
    --color-texto-secundario: #6b7280; /* Gray-500 */
    --color-fondo: #f9fafb; /* Gray-50 */
    --color-fondo-tarjeta: #ffffff; /* White */
    --color-borde: #e5e7eb; /* Gray-200 */
    --color-error: #ef4444; /* Red-500 */
    --color-exito: #10b981; /* Emerald-500 */
    --color-enlace: var(--color-primario);
    --color-enlace-hover: var(--color-primario-hover);

    --espaciado-xs: 0.25rem; /* 4px */
    --espaciado-sm: 0.5rem; /* 8px */
    --espaciado-md: 1rem; /* 16px */
    --espaciado-lg: 1.5rem; /* 24px */
    --espaciado-xl: 2rem; /* 32px */
    --espaciado-xxl: 3rem; /* 48px */

    --radio-borde: 0.375rem; /* 6px */
    --sombra-caja: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
}

/* Estilos Base Globales */
*,
*::before,
*::after {
    box-sizing: border-box;
}

html {
    font-family: 'Figtree', sans-serif;
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    margin: 0;
    background-color: var(--color-fondo);
    color: var(--color-texto);
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

/* Tipografía */
h1,
h2,
h3,
h4,
h5,
h6 {
    margin-top: var(--espaciado-lg);
    margin-bottom: var(--espaciado-md);
    font-weight: 600;
    line-height: 1.25;
    color: var(--color-texto);
}

h1 {
    font-size: 1.875rem; /* 30px */
}
h2 {
    font-size: 1.5rem; /* 24px */
}
h3 {
    font-size: 1.25rem; /* 20px */
}

p {
    margin-bottom: var(--espaciado-md);
    line-height: 1.6;
    color: var(--color-texto-secundario);
}

a {
    color: var(--color-enlace);
    text-decoration: none;
    transition: color 0.15s ease-in-out;
}

a:hover {
    color: var(--color-enlace-hover);
    text-decoration: underline;
}

/* Layouts */

/* GuestLayout (Centrado) */
/* Asume que el div raíz de GuestLayout es el contenedor principal en páginas no autenticadas */
body > div:has(> div > a[href='/']) {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--espaciado-md);
}

/* Contenedor del logo/enlace a inicio en GuestLayout */
body > div > div:first-child:has(> a[href='/']) {
    margin-bottom: var(--espaciado-lg);
}

/* AuthenticatedLayout */
nav {
    background-color: var(--color-fondo-tarjeta);
    padding: var(--espaciado-md) var(--espaciado-lg);
    border-bottom: 1px solid var(--color-borde);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

nav ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    gap: var(--espaciado-md);
}

nav ul a {
    color: var(--color-texto-secundario);
    font-weight: 500;
    text-decoration: none;
}
nav ul a:hover {
    color: var(--color-primario);
}

/* Contenedor de info de usuario y logout */
nav div:has(> a[href*='profile.edit']) {
    display: flex;
    align-items: center;
    gap: var(--espaciado-md);
}

nav div a:first-child {
    /* Enlace del perfil */
    color: var(--color-texto);
    font-weight: 500;
}
nav div a:first-child:hover {
    color: var(--color-primario);
}

/* Botón de cerrar sesión (link estilizado) */
nav a[as='button'][method='post'] {
    background: none;
    border: none;
    padding: 0;
    color: var(--color-secundario);
    cursor: pointer;
    font-size: 0.875rem;
}
nav a[as='button'][method='post']:hover {
    color: var(--color-texto);
    text-decoration: underline;
}

/* Contenido principal en AuthenticatedLayout */
main,
nav + * {
    /* Aplica a <main> o al elemento directamente después de <nav> */
    padding: var(--espaciado-lg);
    max-width: 64rem; /* 1024px */
    margin: var(--espaciado-lg) auto;
}

/* Formularios */
form {
    display: flex;
    flex-direction: column;
    gap: var(--espaciado-md);
    width: 100%;
}

form > div {
    /* Contenedor para label + input + error */
}

label {
    display: block;
    margin-bottom: var(--espaciado-xs);
    font-weight: 500;
    color: var(--color-texto);
    font-size: 0.875rem; /* 14px */
}

input[type='text'],
input[type='email'],
input[type='password'],
select,
textarea {
    width: 100%;
    padding: var(--espaciado-sm) var(--espaciado-md);
    border: 1px solid var(--color-borde);
    border-radius: var(--radio-borde);
    font-size: 1rem;
    background-color: var(--color-fondo-tarjeta);
    color: var(--color-texto);
    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}

input[type='text']:focus,
input[type='email']:focus,
input[type='password']:focus,
select:focus,
textarea:focus {
    outline: none;
    border-color: var(--color-primario);
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.3);
}

textarea {
    min-height: 80px;
    resize: vertical;
}

/* Checkbox */
label:has(> input[type='checkbox']) {
    display: flex;
    align-items: center;
    gap: var(--espaciado-sm);
    font-weight: 400; /* Peso normal */
    cursor: pointer;
    color: var(--color-texto-secundario);
}

input[type='checkbox'] {
    width: 1rem;
    height: 1rem;
    border-radius: 0.25rem;
    border: 1px solid var(--color-borde);
    cursor: pointer;
    accent-color: var(--color-primario); /* Color moderno para el check */
    transition: box-shadow 0.15s ease-in-out;
}
input[type='checkbox']:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.3);
}

/* Mensajes de Error del Formulario */
/* Asume que el div de error es el último elemento dentro del div contenedor del input */
form > div > div:last-child:not(label):not(button):not(a) {
    color: var(--color-error);
    font-size: 0.875rem; /* 14px */
    margin-top: var(--espaciado-xs);
}

/* Contenedor de Acciones del Formulario (botones, links) */
form > div:last-child:has(button),
form > div:last-child:has(a) {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: var(--espaciado-md);
    gap: var(--espaciado-md);
}
/* Si solo hay un botón, alinearlo a la derecha */
form > div:last-child:has(button):not(:has(a)) {
    justify-content: flex-end;
}

/* Botones */
button,
a[as='button'] {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: var(--espaciado-sm) var(--espaciado-md);
    border: 1px solid transparent;
    border-radius: var(--radio-borde);
    font-weight: 500;
    font-size: 0.875rem; /* 14px */
    line-height: 1.25rem;
    cursor: pointer;
    transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out,
    color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    text-decoration: none;
    white-space: nowrap;
}

button:focus,
a[as='button']:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.3); /* Anillo de foco primario */
}

/* Botón Primario (Submit por defecto) */
button[type='submit'],
form div:last-child > button:not([type='button']) {
    background-color: var(--color-primario);
    color: var(--color-fondo-tarjeta);
}

button[type='submit']:hover,
form div:last-child > button:not([type='button']):hover {
    background-color: var(--color-primario-hover);
}

/* Botón Secundario (Cancelar, etc.) */
button[type='button'],
a[as='button']:not([method='post']) {
    background-color: var(--color-fondo-tarjeta);
    color: var(--color-texto);
    border-color: var(--color-borde);
    box-shadow: var(--sombra-caja);
}

button[type='button']:hover,
a[as='button']:not([method='post']):hover {
    border-color: #d1d5db; /* Gray-300 */
    background-color: var(--color-fondo);
}

/* Botón Peligro (Eliminar) */
/* Botón inicial "Eliminar cuenta" */
section:has(h2:contains('Eliminar cuenta')) > button {
    background-color: var(--color-peligro);
    color: var(--color-fondo-tarjeta);
}
section:has(h2:contains('Eliminar cuenta')) > button:hover {
    background-color: var(--color-peligro-hover);
}
/* Botón de confirmación "Eliminar cuenta" en el modal */
section form button:disabled + button {
    background-color: var(--color-peligro);
    color: var(--color-fondo-tarjeta);
}
section form button:disabled + button:hover {
    background-color: var(--color-peligro-hover);
}
/* Botón eliminar en lista de asignaturas */
ul:has(li > b) li button {
    background-color: var(--color-peligro);
    color: white;
    font-size: 0.75rem; /* Botón más pequeño */
    padding: var(--espaciado-xs) var(--espaciado-sm);
}
ul:has(li > b) li button:hover {
    background-color: var(--color-peligro-hover);
}

/* Estado Deshabilitado */
button:disabled,
a[as='button']:disabled {
    opacity: 0.65;
    cursor: not-allowed;
}

/* Secciones (Página de Perfil) */
section {
    margin-top: var(--espaciado-xxl);
    padding-top: var(--espaciado-xxl);
    border-top: 1px solid var(--color-borde);
}
section:first-of-type {
    margin-top: 0;
    padding-top: 0;
    border-top: none;
}
section h2 {
    margin-top: 0;
    font-size: 1.25rem; /* 20px */
    color: var(--color-texto);
}
section p {
    margin-top: var(--espaciado-xs);
    font-size: 0.875rem; /* 14px */
    color: var(--color-texto-secundario);
    max-width: 42rem; /* Limitar ancho de párrafos descriptivos */
}
section form {
    margin-top: var(--espaciado-lg);
    max-width: 42rem; /* Limitar ancho de formularios en secciones */
}
/* Párrafo de "Guardado" */
section form p:last-child {
    color: var(--color-exito);
    font-weight: 500;
    margin: 0;
}

/* Modal Confirmación Eliminar cuenta */
section > div:has(form > h2:contains('eliminar tu cuenta')) {
    position: fixed;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--espaciado-md);
    z-index: 50;
}
section > div > div:first-child:has(form > h2) {
    /* Contenido del modal */
    background-color: var(--color-fondo-tarjeta);
    padding: var(--espaciado-lg) var(--espaciado-xl);
    border-radius: var(--radio-borde);
    max-width: 32rem; /* 512px */
    width: 100%;
    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1),
    0 4px 6px -4px rgb(0 0 0 / 0.1);
}
section > div form h2 {
    margin-top: 0;
    font-size: 1.25rem;
    color: var(--color-texto);
}
section > div form p {
    margin-top: var(--espaciado-xs);
    font-size: 0.875rem;
    color: var(--color-texto-secundario);
}
section > div form > div:last-child {
    /* Acciones del modal */
    margin-top: var(--espaciado-lg);
    display: flex;
    justify-content: flex-end;
    gap: var(--espaciado-md);
}
section > div > div:last-child:has(+ div[onclick]) {
    /* Overlay click para cerrar (si se implementa) */
    position: absolute;
    inset: 0;
    z-index: -1;
}

/* Mensajes de Estado (ej. verificación enviada) */
/* Divs informativos en páginas de autenticación */
.guest-layout-content > div:first-child:not(form) {
    margin-bottom: var(--espaciado-md);
    color: var(--color-texto-secundario);
    line-height: 1.6;
    font-size: 0.875rem;
}
/* Estilo específico para mensajes de éxito/info */
div:contains('Se ha enviado un nuevo enlace'),
div[status='verification-link-sent'] {
    padding: var(--espaciado-md);
    border-radius: var(--radio-borde);
    margin-bottom: var(--espaciado-md);
    font-size: 0.875rem;
    background-color: #e0f2fe; /* Light blue */
    color: #0c4a6e; /* Dark blue */
    border: 1px solid #7dd3fc; /* Blue border */
}
/* Mensaje de estado en ForgotPassword */
form + div {
    padding: var(--espaciado-md);
    border-radius: var(--radio-borde);
    margin-top: var(--espaciado-md);
    font-size: 0.875rem;
    background-color: #d1fae5; /* Light green */
    color: #065f46; /* Dark green */
    border: 1px solid #6ee7b7; /* Green border */
}

/* Listas (ej. Asignaturas) */
ul {
    list-style: disc;
    padding-left: var(--espaciado-lg);
    margin-bottom: var(--espaciado-md);
}

li {
    margin-bottom: var(--espaciado-sm);
}

/* Lista de Asignaturas específica */
ul:has(li > b) {
    list-style: none;
    padding-left: 0;
}
ul:has(li > b) li {
    padding: var(--espaciado-md);
    border: 1px solid var(--color-borde);
    border-radius: var(--radio-borde);
    margin-bottom: var(--espaciado-md);
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: var(--color-fondo-tarjeta);
    box-shadow: var(--sombra-caja);
}

/* Etiqueta Output (para progreso/errores en CreateSubject) */
output {
    display: block;
    margin-top: var(--espaciado-md);
    font-size: 0.875rem;
}
output ul {
    list-style: none;
    padding: 0;
    margin: 0;
}
output ul p {
    /* Asume errores envueltos en <p> */
    color: var(--color-error);
    margin-bottom: var(--espaciado-xs);
}

/* Footer (solo visible en Welcome.jsx) */
main + footer {
    margin-top: var(--espaciado-xxl);
    padding: var(--espaciado-lg);
    text-align: center;
    color: var(--color-texto-secundario);
    font-size: 0.875rem;
}
